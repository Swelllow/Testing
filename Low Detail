local function SetGraphicsSettings()
    for setting, value in pairs(GraphicsSettings) do
        pcall(function()
            game:GetService("StarterGui"):SetCore(setting, value)
        end)
    end
end

local function ModifyObjectAppearance(object)
    if object:IsA("BasePart") then
        object.BrickColor = BrickColor.new(155, 155, 155)
        object.Material = Enum.Material.Plastic
        object.Texture = "" -- Remove texture by setting it to an empty string
    end
end

local function TraverseAndModify(object)
    ModifyObjectAppearance(object)
    for _, child in ipairs(object:GetChildren()) do
        TraverseAndModify(child)
    end
end

local function RemovePlayerAccessories(player)
    local character = player.Character
    if character then
        for _, accessory in ipairs(character:GetDescendants()) do
            if accessory:IsA("Accessory") then
                accessory:Destroy()
            end
        end
    end
end

while true do
    SetGraphicsSettings()

    TraverseAndModify(game.Workspace)

    -- Check for "Map" in workspace and modify it
    local map = game.Workspace:FindFirstChild("Map")
    if map then
        TraverseAndModify(map)
    end

    game.Workspace.CurrentCamera.CameraType = Enum.CameraType.Scriptable

    -- Additional optimizations
    game.Lighting.GlobalShadows = false
    game.Lighting.Outlines = false
    game.Lighting.Ambient = Color3.new(0, 0, 0)
    game.Lighting.Brightness = 0.5 -- Adjust the brightness value as desired
    game.Lighting.ColorShift_Bottom = Color3.new(0, 0, 0)
    game.Lighting.ColorShift_Top = Color3.new(0, 0, 0)

    game.Workspace.CurrentCamera.CameraType = Enum.CameraType.Custom

    -- Remove accessories for the local player
    RemovePlayerAccessories(game.Players.LocalPlayer)

    wait(5) -- Wait for 5 seconds before applying the next iteration
end
